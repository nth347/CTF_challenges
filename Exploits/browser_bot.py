from selenium import webdriver
from time import sleep

url = 'http://site3.com/login.php'


def login(username='', password=''):
    try:
        driver = webdriver.Firefox(executable_path="/home/nth347/geckodriver/geckodriver")
        driver.get(url)
        driver.find_element_by_id('username').send_keys(username)
        driver.find_element_by_id('password').send_keys(password)
        driver.find_element_by_id('login_button').click()
        sleep(5)
        driver.close()
    except RuntimeError:
        driver.close()


if __name__ == '__main__':
    while True:
        login('admin', '123456')
